<!DOCTYPE html>
<html lang="en">
<head>
  <title>Get Youtube Thumbnail</title>
  <script>
    function getURL() {
    var imgList = document.getElementById('img-list');
    if (imgList) {
        if (imgList.hasChildNodes()) {
            while (imgList.firstChild) {
                imgList.removeChild(imgList.firstChild);
            }
        }

        appendThumbnail(imgList);
    }
}

function appendThumbnail(imgList) {
    var ytUrl = document.getElementById('yt_URL').value;
    var videoID = "";
    if (ytUrl.indexOf('watch?v=') > -1) {
        // https://www.youtube.com/watch?v=kleXl9jSQYc
        var ary = ytUrl.split('watch?v=');
        videoID = ary[1];
    } else if (ytUrl.indexOf('youtu.be') > -1) {
        // https://youtu.be/kleXl9jSQYc
        var ary = ytUrl.split('/');
        videoID = ary[ary.length - 1];
    } else {
        videoID = ytUrl;
    }

    var imgAry = new Array(
        "0",
        "1",
        "2",
        "3",
        "default",
        "hqdefault",
        "mqdefault",
        "sddefault",
        "maxresdefault"
    );
    for (ix = 0; ix < imgAry.length; ix++) {
		var li = document.createElement("li");
    	var img = document.createElement("img");
        var imgSrc = "http://img.youtube.com/vi/" + videoID + "/" + imgAry[ix] + ".jpg";
        img.id = "thumbnail"+ix;
        img.src = imgSrc;
        li.appendChild(img);
		imgList.appendChild(li);
    }
	
    document.getElementById('yt_URL').value = "";
}

  </script>
</head>
<body>
<label for="yt_URL">URL: </label>
<input id="yt_URL" type="text" style="width: 300px;" />
<input onclick="getURL()" type="button" value="Get" style="width: 50px" />
<br />
<div id="content"><ul id="img-list"></ul></div>
</body>
</html>
